<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>å®ä¾‹</title>
		<style>
			#box{
				width: 400px;
				margin: 50px auto 0;
			}
			#list{
				list-style: none;
				padding: 0px;
				margin: 0;
			}
			input{
				width: 400px;
				height: 35px;
				font-size: 18px;
				box-sizing: border-box;
				padding-left: 5px;
			}
		</style>
	</head>
	<body>
		<div id="box">
			<input type="text" name="text" id="text" placeholder="ğŸ‘.ğŸ‘ç™¾åº¦ä¸€ä¸‹ğŸ˜"/>
			<ul id="list">
			</ul>
		</div>
	</body>
	<script>
		//å›è°ƒå‡½æ•°
		function callBack(jsonO){
			console.log(jsonO);
			//return;
			var arr = jsonO.s;
			var list = document.getElementById("list");
			//æ¸…ç©ºåˆ—è¡¨
			list.innerHTML = "";
			for(var i = 0; i < arr.length; i++){
				var li = document.createElement("li");
				li.innerHTML = arr[i];
				list.appendChild(li);
			}
		}
		//1.jsonpå›è°ƒå‡½æ•°åå­—ä¸èƒ½é‡å¤
		//2.callBack å¿…é¡»æ˜¯å…¨å±€å‡½æ•°ï¼Œä¿è¯åœ¨ä»»ä½•åœ°æ–¹è¢«è°ƒç”¨
//		function callBack(){
//			alert(11);
//		}
	</script>
	<script>
		//callBack("11111");
		var textIn = document.getElementById("text");
		
		//ä¿®æ”¹src
		textIn.onkeyup = function(){
			var api = "Ajsonp05.php?wd="+textIn.value+"&abc=callBack";
			//1.åˆ›å»ºä¸€ä¸ªscript
			var sct = document.createElement("script");
			//è®¾ç½®srcå±æ€§
			sct.src = api;
			//å¿…é¡»æ·»åŠ åˆ°é¡µé¢å†…ï¼Œæ‰å¼€å§‹ç½‘ç»œè¯·æ±‚ï¼šsend()ï¼›
			var head = document.querySelector("head");
			head.appendChild(sct);
			//ç”¨å®Œç§»å‡º
			head.removeChild(sct);
		};
	</script>
</html>
